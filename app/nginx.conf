server {
    # Nginx는 80번 포트에서 요청을 받음
    listen 80;
    server_name localhost;

    # 1. 정적 파일 처리
    location /static/ {
        # docker-compose.yml에서 마운트한 경로
        alias /usr/src/app/static/;
    }

    # 2. 그 외 모든 동적 요청 처리(Flask)
    location / {
        # uWSGI 서버로 요청을 전달함
        include uwsgi_params;
        # 'app'은 docker-compose.yml의 서비스 이름, 5000은 uwsgi.ini의 포트
        uwsgi_pass app:5000;
    }
}